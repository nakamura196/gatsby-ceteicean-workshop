(self.webpackChunkgatsby_ceteicean_workshop=self.webpackChunkgatsby_ceteicean_workshop||[]).push([[671],{8942:function(e,t,r){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}r(5743);var o=n(r(7294));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return v(this,r)}}var g=o.default.createContext(),N=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self,{exports:{}});N.exports=new function(){var e=this;e.init=function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.repeat=function(e){return new Array(1+e).join(this)}},e.init();var t=/\/\*[\s\S]*?\*\//g,r=/([^\:]+):([^\;]*);/,n=/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+\;(?!\s*\*\/))/gim,o=1,a=2,u=3,l=4,c=function(e){return void 0===e||0==e.length||null==e};e.toJSON=function(s,f){var d={children:{},attributes:{}},p=null,m=0;for(void 0===f&&(f={ordered:!1,comments:!1,stripComments:!1,split:!1}),f.stripComments&&(f.comments=!1,s=s.replace(t,""));null!=(p=n.exec(s));)if(!c(p[o])&&f.comments){var h=p[o].trim();d[m++]=h}else if(c(p[a])){if(!c(p[u]))return d;if(!c(p[l])){var b=p[l].trim(),v=r.exec(b);if(v){N=v[1].trim();var y=v[2].trim();if(f.ordered)(O={}).name=N,O.value=y,O.type="attr",d[m++]=O;else if(N in d.attributes){var g=d.attributes[N];g instanceof Array||(d.attributes[N]=[g]),d.attributes[N].push(y)}else d.attributes[N]=y}else d[m++]=b}}else{var N=p[a].trim(),E=e.toJSON(s,f);if(f.ordered){var O;(O={}).name=N,O.value=E,O.type="rule",d[m++]=O}else{if(f.split)var w=N.split(",");else w=[N];for(i in w){var j=w[i].trim();if(j in d.children)for(var A in E.attributes)d.children[j].attributes[A]=E.attributes[A];else d.children[j]=E}}}return d},e.toCSS=function(e,t,r){var n="";if(void 0===t&&(t=0),void 0===r&&(r=!1),e.attributes)for(i in e.attributes){var o=e.attributes[i];if(o instanceof Array)for(var a=0;a<o.length;a++)n+=s(i,o[a],t);else n+=s(i,o,t)}if(e.children){var u=!0;for(i in e.children)r&&!u?n+="\n":u=!1,n+=f(i,e.children[i],t)}return n};var s=function(e,t,r){return"\t".repeat(r)+e+": "+t+";\n"},f=function(t,r,n){var o="\t".repeat(n)+t+" {\n";return o+=e.toCSS(r,n+1),o+="\t".repeat(n)+"}\n"}};var E=function(e){p(r,e);var t=y(r);function r(){return l(this,r),t.apply(this,arguments)}return s(r,[{key:"render",value:function(){var e=this;return Array.from(this.props.teiNodes).map((function(t,r){return o.default.createElement(O,{key:"".concat(t.tagName).concat(r),teiNode:t,availableRoutes:e.props.availableRoutes})}))}}]),r}(o.default.Component),O=function(e){p(r,e);var t=y(r);function r(){return l(this,r),t.apply(this,arguments)}return s(r,[{key:"forwardTeiAttributes",value:function(){return Array.from(this.props.teiNode.attributes).reduce((function(e,t){switch(t.name){case"ref":e.Ref=t.value;break;case"style":e.style=N.exports.toJSON(t.value);break;default:e[t.name]=t.value}return e}),{})}},{key:"render",value:function(){var e,t,r=this;if(!this.props.teiNode)return null;if(3===this.props.teiNode.nodeType){if(!this.props.availableRoutes.includes("text()"))return this.props.teiNode.nodeValue;e="text()"}else{if(1!==this.props.teiNode.nodeType)return null;var n=this.props.teiNode,i=n.tagName.toLowerCase();if(t=o.default.createElement(E,d({teiNodes:n.childNodes},this.props)),!this.props.availableRoutes.includes(i))return o.default.createElement(i,u({},this.forwardTeiAttributes()),t);e=i}return o.default.createElement(g.Consumer,null,(function(n){var i=n[e];return o.default.isValidElement(i)?o.default.cloneElement(i,u({},r.props),t):o.default.createElement(i,u({},r.props),t)}))}}]),r}(o.default.Component),w=function(e){p(r,e);var t=y(r);function r(){return l(this,r),t.apply(this,arguments)}return s(r,[{key:"componentDidMount",value:function(){this.props.children&&this.props.component}},{key:"render",value:function(){return null}}]),r}(o.default.Component),j=function(e){p(r,e);var t=y(r);function r(e){var n;return l(this,r),f(b(n=t.call(this,e)),"availableRoutes",[]),f(b(n),"routes",{}),o.default.Children.forEach(e.children,(function(e){n.availableRoutes.push(e.props.el),e.props.children?n.routes[e.props.el]=e.props.children:n.routes[e.props.el]=e.props.component})),n}return s(r,[{key:"render",value:function(){return this.props.data?o.default.createElement(g.Provider,{value:this.routes},o.default.createElement(O,{teiNode:this.props.data,availableRoutes:this.availableRoutes})):null}}]),r}(o.default.Component);t.DO=O,t.Nh=E,t.UM=j,t.dx=w},1381:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var n=r(7294),o=r(8942),i=r(4578);function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var u=r(9611);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,r){return c=l()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&(0,u.Z)(o,r.prototype),o},c.apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,u.Z)(n,e)},s(e)}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){for(var t,r=f(e);!(t=r()).done;){var n=t.value,o=n.toLowerCase();if(!window.customElements.get(o))try{window.customElements.define(o,function(e){function t(){var t;return(t=e.call(this)||this).matches(":defined")||t.setAttribute("data-processed",""),t}return(0,i.Z)(t,e),t.prototype.connectedCallback=function(){this.hasAttribute("data-processed")||this.setAttribute("data-processed","")},t}(s(HTMLElement)))}catch(a){console.log(n+" couldn't be registered."),console.log(a)}}},m=function(e){var t=e.children,o=e.node,i=r.g?new r.g.XMLSerializer:new XMLSerializer;if(1===o.nodeType){var a=o;return n.createElement(a.tagName,{},n.createElement(n.Fragment,null,n.createElement("span",{hidden:!0,"aria-hidden":!0,"data-original":!0,dangerouslySetInnerHTML:{__html:i.serializeToString(a)}}),t))}return n.createElement(n.Fragment,null,n.createElement("span",{hidden:!0,"aria-hidden":!0,"data-original":!0,dangerouslySetInnerHTML:{__html:o.textContent||""}}),t)},h=function(e){return Array.from(e).reduce((function(e,t){return e["ref"===t.name?"Ref":t.name]=t.value,e}),{})},b=function(e){if(1===e.teiNode.nodeType){var t=e.teiNode;return n.createElement(t.localName,Object.assign({},h(t.attributes)),n.createElement(o.Nh,{teiNodes:t.childNodes,availableRoutes:e.availableRoutes}))}return n.createElement(o.DO,e)},v=function(e){return n.createElement(m,{node:e.teiNode},n.createElement("pre",null,n.createElement(o.Nh,Object.assign({teiNodes:e.teiNode.childNodes},e))))},y=function(e){var t=e.teiNode,r=t.getAttribute("url");if(!r)return null;var o={src:r};return t.getAttribute("width")&&(o.width=t.getAttribute("width")||""),t.getAttribute("height")&&(o.height=t.getAttribute("width")||""),n.createElement(m,{node:e.teiNode},n.createElement("img",o))},g=function(e){var t=e.teiNode;if("gloss"!==t.getAttribute("type"))return n.createElement(b,e);var r=Array.from(t.childNodes);return n.createElement(m,{node:e.teiNode},n.createElement("dl",null,r.map((function(t,r){if(1!==t.nodeType)return n.createElement(o.DO,{key:"t-"+r,teiNode:t,availableRoutes:e.availableRoutes});var i=t;switch(i.localName){case"tei-label":return n.createElement("dt",{key:"tt-"+r},n.createElement(o.Nh,Object.assign({teiNodes:i.childNodes},e)));case"tei-item":return n.createElement("dd",{key:"td-"+r},n.createElement(o.Nh,Object.assign({teiNodes:i.childNodes},e)))}}))))},N=function(e){var t=e.teiNode;if("end"!==t.getAttribute("place"))return n.createElement(b,e);var r="_note_"+t.getAttribute("data-idx");return n.createElement(m,{node:e.teiNode},n.createElement("sup",null,n.createElement("a",{id:"src"+r,href:"#"+r},t.getAttribute("data-idx"))))},E=function(e){var t=e.teiNode.getAttribute("target")||"";return n.createElement(m,{node:e.teiNode},n.createElement("a",{href:t},t))},O=function(e){var t=e.teiNode,r=t.getAttribute("target")||"";return n.createElement(m,{node:e.teiNode},n.createElement("a",{href:r},n.createElement(o.Nh,Object.assign({teiNodes:t.childNodes},e))))},w=function(e){var t=e.teiNode,r=[],i=[],a=Array.from(t.getElementsByTagName("tei-note")).reduce((function(t,r,i){return"end"===r.getAttribute("place")&&(r.setAttribute("data-idx",(i+1).toString()),t.push(n.createElement("li",{id:"_note_"+(i+1)},n.createElement(o.Nh,Object.assign({key:"en"+i,teiNodes:r.childNodes},e))))),t}),[]);a.length>0&&i.push(n.createElement("ol",{key:"endnotes",className:"ceteicean-notes"},a));var u=n.createElement("tei-tei",Object.assign({},h(t.attributes)),n.createElement(o.Nh,Object.assign({teiNodes:e.teiNode.childNodes},e)));return n.createElement(n.Fragment,null,r,u,i)},j=function(e){var t=e.teiNode;return n.createElement(t.localName.toLowerCase(),Object.assign({},h(t.attributes)),n.createElement(m,{node:e.teiNode}))};function A(e){var t=e.pageContext,i=e.routes,a=r.g?new r.g.DOMParser:new DOMParser;(0,n.useEffect)((function(){p(t.elements)}));var u=t.prefixed,l=a.parseFromString(u,"text/xml"),c=i||{"tei-tei":w,"tei-eg":v,"tei-graphic":y,"tei-list":g,"tei-note":N,"tei-ptr":E,"tei-ref":O,"tei-teiheader":j},s=Object.keys(c).map((function(e,t){return n.createElement(o.dx,{el:e,component:c[e],key:"tr-"+t})}));return n.createElement(o.UM,{data:l.documentElement},s)}var S=function(e){var t=e.teiNode,r=t.getAttribute("n")||"";return r?n.createElement(m,{node:t},n.createElement("span",{className:"Pb"},"Page ",r)):null},C=function(e){var t=e.title,r=e.toggle,o=e.children;return n.createElement("div",{className:"Popup"},n.createElement("h2",null,t),n.createElement("span",{className:"Close",onClick:r},"X"),o)},P=function(e){var t=e.teiNode,r=t,o=r.getAttribute("n")||"",i=r.textContent,a=n.useState(!1),u=a[0],l=a[1],c=null,s=function(){l(!u)};return u&&(c=n.createElement(C,{toggle:s,title:"Note "+o},i)),n.createElement(m,{node:t},n.createElement("sup",{className:"Note",onClick:s},o),c)},k=function(e){var t=e.teiNode,r=t.getAttribute("ref").replace("#",""),i=t.ownerDocument.getElementById(r),a=t.textContent,u=n.useState(!1),l=u[0],c=u[1],s=null,f=function(){c(!l)};return l&&(s=n.createElement(C,{toggle:f,title:a},n.createElement(o.Nh,Object.assign({teiNodes:i.childNodes},e)))),n.createElement(m,{node:e.teiNode},n.createElement("span",{onClick:f,className:"PlaceName"},n.createElement(o.Nh,Object.assign({teiNodes:e.teiNode.childNodes},e))),s)},x=r(184),R=function(e){var t=e.pageContext,r={"tei-tei":w,"tei-teiheader":j,"tei-note":P,"tei-placename":k,"tei-pb":function(e){return n.createElement(S,e)}};return n.createElement(x.Z,null,n.createElement(A,{pageContext:t,routes:r}))}}}]);
//# sourceMappingURL=component---src-gatsby-theme-ceteicean-components-ceteicean-js-f35633775778a2f0de7c.js.map